SET STATEMENT_TIMEOUT = 0;
SET LOCK_TIMEOUT = 0;
SET CLIENT_ENCODING = 'UTF8';
SET STANDARD_CONFORMING_STRINGS = ON;
SET CHECK_FUNCTION_BODIES = FALSE;
SET CLIENT_MIN_MESSAGES = WARNING;

-- CREATE SCHEMA PLACEMENT;
-- SET SEARCH_PATH = PLACEMENT;

-- DDL

DROP TABLE IF EXISTS STUDENT_LOGIN CASCADE;

CREATE TABLE STUDENT_LOGIN(
SRN	CHAR(13) NOT NULL,
PASSWORD	VARCHAR(30) NOT NULL,
ACTIVE	INTEGER NOT NULL DEFAULT 0,
CONSTRAINT PK_LOGIN PRIMARY KEY (SRN)
);

DROP TABLE IF EXISTS COMPANY_LOGIN CASCADE;

CREATE TABLE COMPANY_LOGIN(
CIN	CHAR(5) NOT NULL,   --STRICTLY 5 DIGITS
PASSWORD	VARCHAR(30) NOT NULL,
CONSTRAINT PK_C_LOGIN PRIMARY KEY (CIN)
);

DROP TABLE IF EXISTS STUDENT CASCADE;

CREATE TABLE STUDENT(
SRN	CHAR(13) NOT NULL,
NAME	VARCHAR(30) NOT NULL,
BRANCH	CHAR(3) NOT NULL,
EMAIL	VARCHAR(30) NOT NULL,
CGPA	DECIMAL(4,2) NOT NULL,
G_YEAR INTEGER NOT NULL CHECK (G_YEAR > 2020),
CONSTRAINT PK_STU PRIMARY KEY (SRN),
CONSTRAINT FK_STU_ID FOREIGN KEY(SRN) REFERENCES STUDENT_LOGIN(SRN) ON DELETE CASCADE ON UPDATE CASCADE
);

DROP TABLE IF EXISTS COMPANY CASCADE;

CREATE TABLE COMPANY(
CIN	CHAR(5) NOT NULL,
NAME	VARCHAR(30) NOT NULL,
INFO VARCHAR(100) NOT NULL,
URL VARCHAR(100),
CONSTRAINT PK_COM PRIMARY KEY(CIN),
CONSTRAINT FK_COM_CID FOREIGN KEY(CIN) REFERENCES COMPANY_LOGIN(CIN) ON DELETE CASCADE ON UPDATE CASCADE
);

DROP TABLE IF EXISTS JOB_REQUIREMENTS CASCADE;

CREATE TABLE JOB_REQUIREMENTS(
CIN	CHAR(5) NOT NULL,
JOB_ROLE	VARCHAR(30) NOT NULL,
VACANCY INTEGER NOT NULL,
MIN_CGPA DECIMAL(4,2) NOT NULL DEFAULT 05.00,
CONSTRAINT FK_CR_CID FOREIGN KEY(CIN) REFERENCES COMPANY_LOGIN(CIN) ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT PK_CR PRIMARY KEY(CIN,JOB_ROLE)
);

DROP TABLE IF EXISTS INTERVIEW_SCHEDULE CASCADE;

CREATE TABLE INTERVIEW_SCHEDULE(
SRN	CHAR(13) NOT NULL,
CIN	CHAR(5) NOT NULL,
JOB_ROLE	VARCHAR(30) NOT NULL,
DATE	DATE NOT NULL,
VENUE	VARCHAR(30) NOT NULL,
CONSTRAINT FK_SCH_SID FOREIGN KEY(SRN) REFERENCES STUDENT_LOGIN(SRN) ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT FK_SCH_CID_SDATE FOREIGN KEY(CIN,JOB_ROLE) REFERENCES JOB_REQUIREMENTS(CIN,JOB_ROLE) ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT PK_SCH PRIMARY KEY(SRN,DATE)
);

DROP TABLE IF EXISTS RESULTS CASCADE;

CREATE TABLE RESULTS(
SRN	CHAR(13) NOT NULL,
CIN	CHAR(5) NOT NULL,
JOB_ROLE	VARCHAR(30) NOT NULL,
STIPEND INTEGER NOT NULL,
STATUS INTEGER DEFAULT 0,
REPORT_DATE	DATE ,
CONSTRAINT CH_RE_OFF CHECK(STATUS = 1 OR STATUS = 0),
CONSTRAINT FK_RE_SID FOREIGN KEY(SRN) REFERENCES STUDENT_LOGIN(SRN) ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT FK_SCH_CID_SDATE FOREIGN KEY(CIN,JOB_ROLE) REFERENCES JOB_REQUIREMENTS(CIN,JOB_ROLE) ON DELETE CASCADE ON UPDATE CASCADE,
CONSTRAINT PK_RE PRIMARY KEY(SRN,CIN,JOB_ROLE)
);

-- INSERT DATA

INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802200','4234',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802201','4231',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802202','6224',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802203','7846',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802204','4457',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD,ACTIVE) VALUES ('PES1201802205','3515',1);
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD) VALUES ('PES1201802206','7803');
INSERT INTO STUDENT_LOGIN (SRN,PASSWORD) VALUES ('PES1201802207','2274');

INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802200','HEIDY','CSE','ABCD@PES.EDU',8.42,2022);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802201','SHYLA','CSE','PQRS@PES.EDU',8.12,2022);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802202','MESSIAH','CSE','SQPE@PES.EDU',7.02,2021);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802203','GERALD','ECE','IOSD@PES.EDU',9.2,2022);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802204','LILLIANA','CSE','ABCD@PES.EDU',8.42,2022);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802205','NASH','CSE','PQRS@PES.EDU',8.12,2022);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802206','KADENCE','CSE','SQPE@PES.EDU',7.02,2021);
INSERT INTO STUDENT (SRN,NAME,BRANCH,EMAIL,CGPA,G_YEAR) VALUES ('PES1201802207','AHMED','ECE','IOSD@PES.EDU',9.2,2022);

INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('INFOS','32123');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('ACCNT','48685');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('WIP12','98445');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('TCSCS','84854');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('IBMLM','32123');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('ORAKL','48685');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('COGNZ','98445');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('MAHRA','84854');
INSERT INTO COMPANY_LOGIN (CIN,PASSWORD) VALUES ('TESLL','64854');

INSERT INTO COMPANY (CIN,NAME,INFO,URL) VALUES ('INFOS','INFOSYS','INFO1','WWW.ABCD.COM');
INSERT INTO COMPANY (CIN,NAME,INFO,URL) VALUES ('ACCNT','ACCENTURE','INFO4','WWW.XYZ.COM');
INSERT INTO COMPANY (CIN,NAME,INFO,URL) VALUES ('WIP12','WIPRO','INFO1','WWW.ABCD.COM');
INSERT INTO COMPANY (CIN,NAME,INFO,URL) VALUES ('TCSCS','TCS','INFO4','WWW.XYZ.COM');
INSERT INTO COMPANY (CIN,NAME,INFO) VALUES ('IBMLM','IBM','INFO2');
INSERT INTO COMPANY (CIN,NAME,INFO) VALUES ('ORAKL','ORACLE','INFO3');
INSERT INTO COMPANY (CIN,NAME,INFO) VALUES ('COGNZ','COGNIZANT','INFO2');
INSERT INTO COMPANY (CIN,NAME,INFO) VALUES ('MAHRA','MINDTREE','INFO3');
INSERT INTO COMPANY (CIN,NAME,INFO) VALUES ('TESLL','TESLA','INFO4');

INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('INFOS','DATA SCIENTIST','10',8.50);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('INFOS','SOFTWARE ENGINEER','15',6.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('INFOS','WEB DEVELOPER','20',7.50);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('WIP12','WEB DEVELOPER','19',7.50);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('WIP12','SOFTWARE ENGINEER','15',6.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('COGNZ','DATA SCIENTIST','10',7.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('COGNZ','SOFTWARE ENGINEER','15',6.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('TCSCS','WEB DEVELOPER','12',8.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('TCSCS','SOFTWARE ENGINEER','15',6.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('ORAKL','DATA SCIENTIST','10',7.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('ORAKL','WEB DEVELOPER','20',7.50);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('ACCNT','WEB DEVELOPER','16',8.00);
INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('MAHRA','WEB DEVELOPER','20',7.50);
-- INSERT INTO JOB_REQUIREMENTS (CIN,JOB_ROLE,VACANCY,MIN_CGPA) VALUES ('INFOS','DATA SCIENTIST','10',7.00);

INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802200','INFOS','DATA SCIENTIST','04/06/2020','B BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802200','WIP12','WEB DEVELOPER','05/06/2020','B BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802201','ACCNT','WEB DEVELOPER','04/06/2020','A BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802202','COGNZ','SOFTWARE ENGINEER','04/06/2020','C BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802202','TCSCS','WEB DEVELOPER','06/06/2020','A BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802205','ORAKL','DATA SCIENTIST','04/06/2020','C BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802205','INFOS','DATA SCIENTIST','07/06/2020','B BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802206','WIP12','WEB DEVELOPER','05/06/2020','B BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802207','MAHRA','WEB DEVELOPER','04/06/2020','A BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802206','COGNZ','SOFTWARE ENGINEER','04/06/2020','C BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802207','ACCNT','WEB DEVELOPER','06/06/2020','A BLOCK');
INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802203','ORAKL','DATA SCIENTIST','04/06/2020','C BLOCK');
-- INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802200','WIP12','WEB DEVELOPER','04/06/2020','B BLOCK');

INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802200','INFOS','DATA SCIENTIST',900000,1,'25/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802200','WIP12','WEB DEVELOPER',700000,1,'22/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802201','ACCNT','WEB DEVELOPER',200000,1,'27/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802202','COGNZ','SOFTWARE ENGINEER',700000,1,'22/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802203','ORAKL','DATA SCIENTIST',800000,1,'22/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802205','ORAKL','DATA SCIENTIST',600000,1,'27/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS,REPORT_DATE) VALUES('PES1201802207','MAHRA','WEB DEVELOPER',400000,1,'22/06/2020');
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS) VALUES('PES1201802205','INFOS','DATA SCIENTIST',0,0);
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS) VALUES('PES1201802206','COGNZ','SOFTWARE ENGINEER',0,0);
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS) VALUES('PES1201802207','ACCNT','WEB DEVELOPER',0,0);

-- 1) STUDENTS WHO HAVE APPLIED FOR THE INTERVIEW FOR THE POSITION OF WEB DEVELOPER
SELECT S.SRN,S.NAME,I.JOB_ROLE
FROM STUDENT S, INTERVIEW_SCHEDULE I
WHERE S.SRN = I.SRN AND JOB_ROLE='WEB DEVELOPER';

-- 2) LIST OUT THE COMPANIES, JOB ROLES AND NUMBER OF POSITIONS AVAILABLE FOR STUDENTS WHO HAVE ATLEAST 8 CGPA
SELECT C.NAME AS COMPANY,J.JOB_ROLE AS JOB_ROLE,J.VACANCY AS VACANCIES,J.MIN_CGPA AS MINIMUM_CGPA
FROM COMPANY C, JOB_REQUIREMENTS J
WHERE C.CIN = J.CIN AND J.MIN_CGPA >= 8.00
ORDER BY J.MIN_CGPA DESC;

-- 3) FIND THE TOTAL NUMBER OF POSITIONS THAT ARE OFFERED BY A COMPANY FOR ALL THE JOB ROLES
SELECT C.NAME AS COMPANY,SUM(VACANCY) AS TOTAL_VACANCIES
FROM COMPANY C, JOB_REQUIREMENTS J
WHERE C.CIN = J.CIN
GROUP BY C.NAME
ORDER BY COMPANY ;

-- 4) FIND THE AVERAGE STARTING SALARY FOR THE BATCH OF 2022 PER DEPARTMENT
SELECT S.BRANCH AS DEPARTMENT, AVG(R.STIPEND) AS AVERAGE_PACKAGE
FROM STUDENT S, RESULTS R
WHERE S.SRN = R.SRN AND S.G_YEAR = 2022
GROUP BY S.BRANCH
ORDER BY AVERAGE_PACKAGE DESC;

-- 5) STUDENTS WHOS INTERVIEW IS SCHEDULED IN B BLOCK WITH THE COMPANY INFOSYS
SELECT S.SRN,S.NAME,S.BRANCH
FROM STUDENT AS S
WHERE EXISTS (
    SELECT *
    FROM INTERVIEW_SCHEDULE AS I
    WHERE I.SRN = S.SRN AND I.CIN='INFOS' AND I.VENUE='B BLOCK'
)
ORDER BY S.SRN;

-- 6) LIST OUT THE STUDENTS WHO HAD AN INTERVIEW SCHEDULED WITH WIPRO BUT DIDNOT RECEIVE THEIR RESULTS
SELECT S.SRN, S.NAME
FROM STUDENT AS S
WHERE S.SRN IN  (
    (
        SELECT I.SRN 
        FROM INTERVIEW_SCHEDULE I
        WHERE I.CIN='WIP12'
    )
    EXCEPT
    (
        SELECT R.SRN
        FROM RESULTS R
        WHERE R.CIN='WIP12'
    )
);

-- 7) COMPANIES REGISTERED BUT DIDNOT GIVE ANY JOB REQUIREMENTS
(
    SELECT DISTINCT(C.NAME) AS COMPANY
    FROM COMPANY C LEFT OUTER JOIN JOB_REQUIREMENTS J ON C.CIN = J.CIN
)
EXCEPT
(
    SELECT DISTINCT(C.NAME) AS COMPANY
    FROM COMPANY C RIGHT OUTER JOIN JOB_REQUIREMENTS J ON C.CIN = J.CIN
);

-- 8) STUDENTS WHO DIDNOT REGISTER FOR INTERVIEW
SELECT S.SRN,S.NAME,S.BRANCH
FROM STUDENT S
WHERE S.SRN NOT IN (
    SELECT S.SRN
    FROM STUDENT S RIGHT OUTER JOIN INTERVIEW_SCHEDULE I ON S.SRN = I.SRN
);

-- 9) LIST OUT THE STUDENTS WHO HAVE THEIR STIPEND MORE THAN 500000 BUT LESS THAN 800000
SELECT S.NAME,S.BRANCH,R.JOB_ROLE,R.STIPEND
FROM STUDENT S,RESULTS R
WHERE S.SRN = R.SRN AND R.STIPEND BETWEEN 500000 AND 800000
ORDER BY BRANCH,STIPEND DESC;



-- TRIGGERS

-- 1) REMOVE ALL SUCH ENTRIES FROM RESULTS WHERE A STUDENT HAS EXCEPTED THE OFFER (STATUS = 1)
SELECT * FROM RESULTS;

DROP TRIGGER IF EXISTS ACCEPTED_STUDENTS ON RESULTS CASCADE;

CREATE TRIGGER ACCEPTED_STUDENTS AFTER INSERT ON RESULTS
FOR EACH ROW EXECUTE PROCEDURE MODIFIERFUNC();

CREATE OR REPLACE FUNCTION MODIFIERFUNC() RETURNS TRIGGER AS $ACCEPTED_STUDENTS$
   BEGIN
      DELETE FROM RESULTS WHERE STATUS=1;
      RETURN NEW;
   END;
$ACCEPTED_STUDENTS$ LANGUAGE PLPGSQL;

DELETE FROM RESULTS WHERE SRN = 'PES1201802207' AND CIN='MAHRA';
INSERT INTO RESULTS (SRN,CIN,JOB_ROLE,STIPEND,STATUS) VALUES('PES1201802207','MAHRA','WEB DEVELOPER',0,0);

SELECT * FROM RESULTS;


-- 2) REMOVE THE ENTRIES FROM JOB_REQUIREMENTS IF THE VACANCIES HAVE BEEN FILLED

SELECT * FROM JOB_REQUIREMENTS;

DROP TRIGGER IF EXISTS NO_VACANCIES ON JOB_REQUIREMENTS CASCADE;

CREATE OR REPLACE FUNCTION VACANCIESFUNC() RETURNS TRIGGER
   LANGUAGE PLPGSQL AS
$$BEGIN
        DELETE FROM JOB_REQUIREMENTS
        WHERE VACANCY = 0;

        RAISE NOTICE 'SORRY, NO VACANCIES AVAILABLE'; 
   RETURN OLD;
END;$$;
 
CREATE TRIGGER NO_VACANCIES AFTER UPDATE ON JOB_REQUIREMENTS
   FOR EACH ROW EXECUTE PROCEDURE VACANCIESFUNC();

UPDATE JOB_REQUIREMENTS
SET VACANCY = 0
WHERE CIN='INFOS' AND JOB_ROLE='DATA SCIENTIST';

SELECT * FROM JOB_REQUIREMENTS;

-- 3) CREATE TRIGGER TO DELETE OLD INTERVIEW SCHEDULES

CREATE OR REPLACE FUNCTION DELETE_SCHEDULE()
  RETURNS TRIGGER AS
$BODY$
    BEGIN
      DELETE FROM INTERVIEW_SCHEDULE WHERE DATE < NOW();
      RETURN NEW;
    END;
$BODY$
  LANGUAGE PLPGSQL;

DROP TRIGGER IF EXISTS OLD_SCHEDULE ON INTERVIEW_SCHEDULE CASCADE;

CREATE TRIGGER OLD_SCHEDULE
  AFTER INSERT
  ON INTERVIEW_SCHEDULE
  FOR EACH ROW
  EXECUTE PROCEDURE DELETE_SCHEDULE();

SELECT * FROM INTERVIEW_SCHEDULE;

DELETE FROM INTERVIEW_SCHEDULE
WHERE SRN='PES1201802203' AND DATE='04/06/2020';

SELECT * FROM INTERVIEW_SCHEDULE;

INSERT INTO INTERVIEW_SCHEDULE (SRN,CIN,JOB_ROLE,DATE,VENUE) VALUES ('PES1201802203','ORAKL','DATA SCIENTIST','04/04/2020','C BLOCK');

SELECT * FROM INTERVIEW_SCHEDULE;